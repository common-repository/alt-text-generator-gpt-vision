(()=>{"use strict";var t={};function e(t,e=document){return e.querySelector(t)}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);const n=window.wp.i18n;function r(t,e={},n=document){let r=n.createElement(t);return Object.entries(e).forEach((([t,e])=>{null!=e&&("class"===t?Array.isArray(e)?r.classList.add(...e):"string"==typeof e&&r.classList.add(e):"text"===t?r.textContent=e:t in r?"object"!=typeof e||Array.isArray(e)?r[t]=e:Object.entries(e).forEach((([e,n])=>{r[t][e]=n})):r.setAttribute(t,e))})),r}const a=window.wp.apiFetch;var s=t.n(a);!function(t){const a=e(".attachment-alt-text");if(!a)return;const o=e("textarea",a);if(!o)return;const i=new URL(window.location.href),c=parseInt(null!==(t=i.searchParams.get("post"))&&void 0!==t?t:"0");if(!c)return void console.error("Image ID not found.");const l=((t,e,a)=>{const o=r("div",{style:{display:"flex",alignItems:"center",justifyContent:"end",clear:"both",gap:"1em"}}),i=r("span",{class:"spinner",style:{margin:"0"}});o.append(i);const c=r("button",{class:"button",text:(0,n.__)("Generate Alt Text","alt-text-generator-gpt-vision"),onclick:async r=>{if(r.preventDefault(),!a?.length||confirm((0,n.__)("Are you sure you want to overwrite the current alt text?","alt-text-generator-gpt-vision")))try{i.classList.add("is-active"),c.disabled=!0;const n=await(async(t,e=!1,n,r)=>{const a={attachment_id:t,save:e};return n?.length&&(a.user_prompt=n),s()({path:"acpl/ai-alt-generator",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a),signal:r}).then((t=>t.alt)).catch((t=>{throw console.error(t),t}))})(t);e(n)}catch(t){alert((0,n.sprintf)((0,n.__)("There was an error generating the alt text: %s","alt-text-generator-gpt-vision"),t.message))}finally{i.classList.remove("is-active"),c.disabled=!1}}});return o.append(c),o})(c,(t=>{o.value=t}),o.value);l.style.justifyContent="start",l.style.flexDirection="row-reverse",a.append(l)}()})();
//# sourceMappingURL=media-edit-page.js.map